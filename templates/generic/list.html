{% extends template_path('base') %}

{% block title %}List Books - Flask + HTML{% endblock %}

{% block content %}
<h2>Books Library</h2>
<a href="{{ url_for('add') }}">Add New Book</a><br><br>
<table id="books_table" class="display">
    <thead>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Author</th>
        <th>Published</th>
        <th>Release</th>
        <th>Category</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    {% for b in books %}
    <tr>
        <td>{{ b.id }}</td>
        <td>{{ b.title }}</td>
        <td>{{ b.author }}</td>
        <td>{{ b.published_date }}</td>
        <td>{{ b.release }}</td>
        <td>{{ b.category_name }}</td>
        <td>
            <a href="{{ url_for('view', book_id=b.id) }}">View</a> |
            <a href="{{ url_for('edit', book_id=b.id) }}">Edit</a> |
            <a href="{{ url_for('delete', book_id=b.id) }}">Delete</a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}

{% block scripts %}
<script>
    $(document).ready(function() {
        $('#books_table').DataTable({
            "pageLength": 10,
            "lengthMenu": [5, 10, 20, 50]
        });
    });
</script>
{% endblock %}
